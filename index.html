<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>手指滚滚屏</title>
		<meta name=viewport content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
		<link rel="stylesheet" href="css/main.css">
		<link rel="stylesheet" href="css/no2.css" />
		<link rel="stylesheet" href="css/swiper.min.css" />
		<link rel="stylesheet" type="text/css" href="css/no-3.css" />
		<link rel="stylesheet" type="text/css" href="css/no-6.css" />
		<link rel="stylesheet" type="text/css" href="css/no-4.css" />
		<link rel="stylesheet" type="text/css" href="css/no1.css" />

		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			body,
			html {
				height: 100%;
				overflow: hidden;
				background-color: #333;
			}
			
			.page {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}
			
			body {
				background-position: -15px 0;
				background: url(img/o_1bqcemrpc6qo1e071mh75mrub3e.png) no-repeat -15px 0;
				background-size: 120% 100%;
			}
			
			.page {
				background: url(img/o_1bqcf6vh91g66vfb1o3lk1a1rc62q.gif);
			}
			/*.no0 div{background-color:red;}
			.no1 div{background-color:orange;}
			.no2 div{background-color:yellow;}
			.no3 div{background-color:green;}
			.no4 div{background-color:yellowgreen;}
			.no5 div{background-color:skyblue;}
			.no6 div{background-color:pink;}
			.no7 div{background-color:white;}*/
		</style>
	</head>

	<body>
		<div class="page no0">
			<div id="music">
				<audio src="岑宁儿 - 追光者.mp3" autoplay></audio>
			</div>
			<div id="no01">
				<div class="ex1-1">
					<img src="img/o_1bi0mf8uc1h911o0gb3g1vsg136hi.png" alt="">
					<img src="img/o_1bi0mf8uc1drnjb0etv1h0nj4l.gif" alt="">
					<img src="img/o_1bhuqkjs51anb1t32h09it0q6sp.png" alt="">
					<img src="img/o_1bi13jv3gt5bjmg1ne81kle1vhc1f.png" alt="">
					<img src="img/o_1bi0mf8ucfoglpc40d4qkgh8k.png" alt="">
				</div>
				<div class="ex1-2">
					<p>2017年9月17日-18日</p>
					<p>中国武汉房地产创新峰会</p>
					<p>Forex Expo I NEED YOU</p>
					<p>北京中网易企秀科技有限公司</p>
					<img src="img/o_1bhbkcq06uvc1uko167ml2ghfcv.png">
				</div>

			</div>
		</div>
		<div class="page no1">
			<div>
				<div id="music">
					<audio src="岑宁儿 - 追光者.mp3" autoplay></audio>
				</div>

				<img src="img/o_1bqcemrpcp611bulh981b35c1f.png" class="dimg" width="200px" />
				<div class="english">
					<p>THE EXHIBITION</p>
					<p>CONCENTION</p>
				</div>
				<div class="chin">
					精品房产 盛大开幕 等你来
				</div>
				<div id="no11">[ 诚挚邀请 ]</div>
				<div id="no12">&nbsp; &nbsp; 各位先生女士，欢迎参加第十三届房地产交易开幕大会，本会议秉承诚信、合作、交流的理念召开。意在和各界人士交流本次会议的主旨。各位先生女士，欢迎参加第十三届房地产交易开幕大会，本会议秉承诚信、合作、交流的理念召开。意在和各界人士交流本次会议的主旨。</br>
					&nbsp; &nbsp; 在此诚挚邀请各位来参加本次会议
				</div>
				<div id="no13">
					<div>2017年10月10号</div>
					<div>中国武汉房地产协会</div>
				</div>
			</div>
		</div>
		<div class="page no2">
			<div>
				<div id="music">
					<audio src="岑宁儿 - 追光者.mp3" autoplay></audio>
				</div>
				<img src="img/o_1bqcemrpcp611bulh981b35c1f.png" class="dimg" width="200px" />
				<div class="english">
					<p>THE EXHIBITION</p>
					<p>CONCENTION</p>
				</div>
				<div class="chin">
					精品房产 盛大开幕 等你来
				</div>
			</div>
			<div id="gentle">
				[ 会议环境 ]
			</div>
			<div class="swiper-container">
				<div class="swiper-wrapper">
					<div class="swiper-slide"><img src="img/1.jpg"></div>
					<div class="swiper-slide"><img src="img/2.jpg"></div>
					<div class="swiper-slide"><img src="img/3.jpg"></div>
					<div class="swiper-slide"><img src="img/4.jpg"></div>
				</div>
			</div>
		</div>
		<div class="page no3">
			<div class="nono3">
				<div id="music">
					<audio src="岑宁儿 - 追光者.mp3" autoplay></audio>
				</div>
				<img src="img/o_1bqcemrpcp611bulh981b35c1f.png" class="dimg" width="200px" />
				<div class="english">
					<p>THE EXHIBITION</p>
					<p>CONCENTION</p>
				</div>
				<div class="chin">
					精品房产 盛大开幕 等你来
				</div>
				<h1> [会议流程]</h1>
				<ul>
					<li class="li1"><span></span>
						<p>9：00-9:10 大会开始发言</p>
					</li>
					<li class="li2"><span></span>
						<p>9：00-9:10 各分区代表人发言</p>
					</li>
					<li class="li3"><span></span>
						<p>9：00-9:10 会议讨论</p>
					</li>
					<li class="li4"><span></span>
						<p>9：00-9:10 会议主旨再确定</p>
					</li>
					<li class="li5"><span></span>
						<p>9：00-9:10 主题会议召开</p>
					</li>
					<li class="li6"><span></span>
						<p>9：00-9:10 大会确认结束</p>
					</li>
				</ul>
			</div>
		</div>
		<div class="page no4">
			<div>
				<div id="music">
					<audio src="岑宁儿 - 追光者.mp3" autoplay></audio>
				</div>
				<img src="img/o_1bqcemrpcp611bulh981b35c1f.png" class="dimg" width="200px" />
				<div class="english">
					<p>THE EXHIBITION</p>
					<p>CONCENTION</p>
				</div>
				<div class="chin">
					精品房产 盛大开幕 等你来
				</div>
				<p class='p1'>100家主流媒体</p>
				<p class='p2'>42个城市大亨</p>
				<p class='p3'>1000套精品房源</p>
				<p class='p4'>300多家地产商</p>
				<div class='p5'>
					<em>我</em>
					<em>在</em>
					<em>这</em>
					<em>里</em>
					<em>等</em>
					<em>你</em>
					<em>.</em>
					<em>.</em>
					<em>.</em>
				</div>
			</div>
		</div>
		<div class="page no5">
			<div>
				<div id="music">
					<audio src="岑宁儿 - 追光者.mp3" autoplay></audio>
				</div>
				<img src="img/o_1bqcemrpcp611bulh981b35c1f.png" class="dimg" width="200px" />
				<div class="english">
					<p>THE EXHIBITION</p>
					<p>CONCENTION</p>
				</div>
				<div class="chin">
					精品房产 盛大开幕 等你来
				</div>
				<h2>[报名参加]</h2>
				<input type="text" name="" id="" placeholder="姓名" />
				<input type="text" name="" id="" placeholder="电话" />
				<input type="text" name="" id="" placeholder="邮箱" />
				<input type="button" name="" id="" value="提交" class="button1" />
				<input type="button" name="" id="" value="拨打电话" class="button2" />
			</div>

		</div>
		<script src="js/jquery-1.12.3.min.js"></script>
		<script src="js/velocity.min.js"></script>
		<script src="js/swiper.jquery.min.js"></script>
		<script type="text/javascript">
			//得到所有的page
			var pages = document.querySelectorAll(".page");
			//得到窗口的高度
			var windowHeight = document.body.clientHeight || document.documentElement.clientHeight;
			//所有page就位
			pages.forEach(function(item) {
				item.style.webkitTransform = "translateY(" + windowHeight + "px)";
			})
			pages[0].style.webkitTransform = "translateY(0px)";

			//监听就是给document对象
			document.addEventListener("touchstart", touchstartHandler, false);
			document.addEventListener("touchmove", touchmoveHandler, false);
			document.addEventListener("touchend", touchendHandler, false);

			//开始滑动的手指位置
			var startY;
			//滑动的距离
			var distanceY;

			//三个相关的page
			var idx = 0;
			var prev = 6;
			var next = 1;

			//函数截流
			lock = true;

			// 触摸开始
			function touchstartHandler(event) {
				event = event || window.event;
				//开始值
				startY = event.touches[0].clientY;

				//去掉所有的过渡
				pages[idx].style.webkitTransition = "none";
				pages[next].style.webkitTransition = "none";
				pages[next].style.webkitTransition = "none";

				pages[idx].style.zIndex = 888;
				pages[next].style.zIndex = 999;
			}

			// 触摸移动
			function touchmoveHandler(event) {
				event = event || window.event;
				//y是手指的位置减去误差
				distanceY = event.touches[0].clientY - startY;
				//向上
				if(distanceY < 0) {
					//滑动的时候改变transform：
					pages[idx].style.webkitTransform = "scale(" + (1 - Math.abs(distanceY) / windowHeight) + ")";
					pages[next].style.webkitTransform = "scale(1) translateY(" + (windowHeight + distanceY) + "px)";
				} else if(distanceY > 0) { //向下滑
					pages[idx].style.webkitTransform = "scale(" + (1 - Math.abs(distanceY) / windowHeight) + ")";
					pages[prev].style.webkitTransform = "scale(1) translateY(" + (-windowHeight + distanceY) + "px)";
				}
			}

			// 触摸结束
			function touchendHandler(event) {
				event = event || window.event;
				//根据distanceY来确定是否滑动成功
				if(distanceY < -windowHeight / 4) {
					//向上滑动成功
					console.log("↑")
					//先改变信号量
					prev = idx;
					idx = next;
					next++;
					if(next > 5) {
						next = 0;
					}

					if(next === 3) {
						var windowWidth = document.documentElement.clientWidth;
						var oppp = (windowWidth / 2 + 65) + 'px';
						$('#gentle').velocity({ "translateX": oppp }, 1000);
					} else {
						$('#gentle').velocity({ "translateX": 0 }, 0);
					}
					console.log(prev, idx, next)

					//加上过渡
					pages[prev].style.webkitTransition = "all 0.4s ease 0s";
					pages[idx].style.webkitTransition = "all 0.4s ease 0s";

					//最终的位置
					pages[prev].style.webkitTransform = "scale(0)";
					pages[idx].style.webkitTransform = "translateY(0px)";

				} else if(distanceY > windowHeight / 4) {
					console.log("↓")
					//先改变信号量
					next = idx;
					idx = prev;
					prev--;
					//prev = 1;idx = 2;next = 3
					//prev = 0; idx = 1;next = 2
					//prev = 5;idx = 0;next = 1
					//prev = 4;idx = 5;next = 0
					if(prev < 0) {
						prev = 5;
					}
					if(next === 3) {
						var windowWidth = document.documentElement.clientWidth;
						var oppp = (windowWidth / 2 + 65) + 'px';
						$('#gentle').velocity({ "translateX": oppp }, 1000);
					} else {
						$('#gentle').velocity({ "translateX": 0 }, 0);
					}
					console.log(prev, idx, next)

					//加上过渡
					pages[next].style.webkitTransition = "all 0.4s ease 0s";
					pages[idx].style.webkitTransition = "all 0.4s ease 0s";

					//最终的位置
					pages[next].style.webkitTransform = "scale(0)";
					pages[idx].style.webkitTransform = "translateY(0px)";
					pages[prev].style.webkitTransform = "translateY(" + -windowHeight + "px)";
				} else if(distanceY > -windowHeight / 4 && distanceY < 0) {
					pages[idx].style.webkitTransition = "all 0.4s ease 0s";
					pages[next].style.webkitTransition = "all 0.4s ease 0s";

					pages[idx].style.webkitTransform = "scale(1)";
					pages[next].style.webkitTransform = "translateY(" + windowHeight + "px)";
				} else if(distanceY < windowHeight / 4 && distanceY > 0) {
					pages[idx].style.webkitTransition = "all 0.4s ease 0s";
					pages[prev].style.webkitTransition = "all 0.4s ease 0s";

					pages[idx].style.webkitTransform = "scale(1)";
					pages[prev].style.webkitTransform = "translateY(" + -windowHeight + "px)";
				}
				distanceY = 0;
				inAnimate[idx]();
				outAnimate[prev]();
				outAnimate[next]();
			}
			firstdiv();
			//入场动画
			var inAnimate = [function() {}, function() {}, function() {}, function() {}, function() {}, function() {}, function() {}];
			var outAnimate = [function() {}, function() {}, function() {}, function() {}, function() {}, function() {}, function() {}];
			inAnimate[2] = function() {
				$('.chin').velocity({
					"translateX": '500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.dimg').velocity({
					"translateY": '-300px',
					"opacity": '0'
				}, 0).velocity('reverse', 3000);
				$('.english').velocity({
					"translateX": '-500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
			}
			inAnimate[1] = function() {
				$('.chin').velocity({
					"translateX": '500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.dimg').velocity({
					"translateY": '-300px',
					"opacity": '0'
				}, 0).velocity('reverse', 3000);
				$('.english').velocity({
					"translateX": '-500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('#no11').velocity({
					"translateX": '500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('#no12').velocity({
					'translateY': '500px',
					'opacity': '0'
				}, 0).velocity('reverse', 1000);
				$('#no13').velocity({
					'translateX': '-300px',
					'opacity': '0'
				}, 0).velocity('reverse', 1000)
			}
			inAnimate[3] = function() {
				$('.nono3').show();
				$('.chin').velocity({
					"translateX": '500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.dimg').velocity({
					"translateY": '-300px',
					"opacity": '0'
				}, 0).velocity('reverse', 3000);
				$('.english').velocity({
					"translateX": '-500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.no3 h1').velocity({
					'opacity': '0',
					"rotateZ": '90deg'
				}, 0).velocity('reverse', 1000);
				$('.no3 li p').each(function(i) {
					$(this).delay(i * 100).velocity({
						"translateX": "500px"
					}, 0).velocity('reverse', 1000);
				});
				$('.no3 li span').each(function(i) {
					$(this).delay(i * 100).velocity({
						"opacity": '0',
						"rotateZ": "180deg"
					}, 0).velocity('reverse', 2500);
				});
			}
			inAnimate[4] = function() {
				$('.chin').velocity({
					"translateX": '500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.dimg').velocity({
					"translateY": '-200px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.english').velocity({
					"translateX": '-500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.no4>div>p').each(function(i) {
					$(this).show(i * 600).velocity({
						"translateX": "500px",
						"opacity": '0'
					}, 1000).velocity('reverse', 1000).fadeOut();
				});
				//					$('.no4>p').delay(1000).fadeOut();
				$('.no4 .p5').show(4200);
			}
			outAnimate[3] = function() {
				$('.nono3').fadeOut()
			}
			outAnimate[4] = function() {
				$('.no4 .p5').fadeOut()
				$('.no4>div>p').each(function(i) {
					$(this).fadeOut()
				});
			}
			inAnimate[5] = function() {
				$('.chin').velocity({
					"translateX": '500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.dimg').velocity({
					"translateY": '-200px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.english').velocity({
					"translateX": '-500px',
					"opacity": '0'
				}, 0).velocity('reverse', 1000);
				$('.no5 h2').velocity({
					"translateX": "500px",
					"opacity": '0'
				}).velocity("reverse", "1000")
				$('.no5 input').each(function(i) {
					$(this).show(i * 600).velocity({
						"translateX": "500px"
					}, 0).velocity('reverse', 1000);
				});
			}
			outAnimate[5] = function() {
				$('.no5 input').each(function(i) {
					$(this).fadeOut();
				});
			}
			inAnimate[0] = firstdiv;

			function firstdiv() {
				var Ex11 = $(".ex1-1 img");
				var Ex12 = $(".ex1-2 p");
				var Ex12img = $(".ex1-2 img");
				Ex11[0].style.webkitTransform = "none";
				Ex11[0].style.webkitTransition = "all 1s ease 0s";
				setTimeout(function() {
					Ex11[2].style.webkitTransform = "none";
					Ex11[2].style.webkitTransition = "all 1s ease 0s";
				}, 300);
				setTimeout(function() {
					Ex11[1].style.webkitTransform = "none";
					Ex11[1].style.webkitTransition = "all 1s ease 0s";
				}, 1000);
				setTimeout(function() {
					Ex11[3].style.webkitTransform = "none";
					Ex11[3].style.webkitTransition = "all 1s ease 0s";
				}, 1300);
				setTimeout(function() {
					Ex11[4].style.webkitTransform = "none";
					Ex11[4].style.webkitTransition = "all 1s ease 0s";
					Ex12[0].style.webkitTransform = "none";
					Ex12[0].style.webkitTransition = "all 1s ease 0s";
					Ex12[1].style.webkitTransform = "none";
					Ex12[1].style.webkitTransition = "all 1s ease 0s";
					Ex12[2].style.webkitTransform = "none";
					Ex12[2].style.webkitTransition = "all 1s ease 0s";
					Ex12[3].style.webkitTransform = "none";
					Ex12[3].style.webkitTransition = "all 1s ease 0s";
					Ex12img[0].style.webkitTransform = "none";
					Ex12img[0].style.webkitTransition = "all 1s ease 0s";
				}, 2600);
			}
			outAnimate[0] = function() {
				var Ex11 = $(".ex1-1 img");
				var Ex12 = $(".ex1-2 p");
				var Ex12img = $(".ex1-2 img");
				Ex11[0].style.webkitTransform = "rotateX(90deg)";
				Ex11[2].style.webkitTransform = "translateZ(-100000px)";
				Ex11[1].style.webkitTransform = "translateY(-1000px)";
				Ex11[3].style.webkitTransform = "translatey(1000px)";
				Ex11[4].style.webkitTransform = "translateZ(-100000px)";
				Ex12[0].style.webkitTransform = "rotateX(87.5deg)";
				Ex12[1].style.webkitTransform = "rotateX(87.5deg)";
				Ex12[2].style.webkitTransform = "rotateX(87.5deg)";
				Ex12[3].style.webkitTransform = "translateY(-160px)";
				Ex12img[0].style.webkitTransform = "translateY(-150px)";
			}
		</script>
		<script>
			var mySwiper = new Swiper('.swiper-container', {
				loop: true,
				shortSwipes: true,
				touchRatio: 0.5,
				effect: 'cube',
				cube: {
					slideShadows: true,
					shadow: true,
					shadowOffset: 100,
					shadowScale: 0.6
				}
			})
		</script>
		<script type="text/javascript" charset="utf-8">
			//			var oAudio = document.querySelector('audio');
			//			var oMusic = document.querySelector('#music');
			//			oMusic.ontouchstart = function() {
			//				oAudio.pause()
			//			}
			//播放器控制
			var oAudio = document.querySelector('audio');
			$('#music').click(function(){
				
			})
		</script>
	</body>

</html>